<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Alphabet Adventure | NiLy Playhouse</title>
  <meta name="theme-color" content="#f472b6" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="apple-mobile-web-app-title" content="Alphabet Adventure" />
  <link rel="manifest" href="/manifest.webmanifest" />
  <link rel="icon" type="image/png" href="favicon.png" />
  <link rel="apple-touch-icon" href="apple-touch-icon.png" />
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;600&display=swap");
    :root {
      font-family: "Baloo 2", "Trebuchet MS", "Segoe UI", system-ui;
      --pink: #f472b6;
      --orange: #fb923c;
      --yellow: #facc15;
      --blue: #38bdf8;
      --green: #34d399;
      --purple: #c084fc;
      --dark: #0f172a;
      --bg: radial-gradient(circle at top, #fff8fb 0%, #fef3c7 45%, #e0f2fe 100%);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background-image: var(--bg);
      color: var(--dark);
    }

    .top-nav {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0.75rem;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.85);
      border-bottom: 1px solid rgba(15, 23, 42, 0.08);
    }

    .top-nav a {
      text-decoration: none;
      font-weight: 600;
      color: var(--dark);
    }

    header {
      text-align: center;
      padding: clamp(2rem, 5vw, 4rem) clamp(1rem, 5vw, 4rem);
    }

    header h1 {
      margin: 0;
      font-size: clamp(2.4rem, 8vw, 4rem);
    }

    header p {
      margin: 0.5rem auto 0;
      max-width: 36rem;
      font-size: clamp(1rem, 2.5vw, 1.3rem);
    }

    main {
      padding: 0 clamp(1rem, 5vw, 4rem) 4rem;
      display: grid;
      gap: 1.5rem;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      align-items: center;
      justify-content: center;
    }

    .controls button {
      border: none;
      border-radius: 999px;
      padding: 0.75rem 1.6rem;
      font-weight: 600;
      background: var(--purple);
      color: #fff;
      cursor: pointer;
      box-shadow: 0 12px 25px rgba(192, 132, 252, 0.3);
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 1.05rem;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 1rem;
    }

    .letter-card {
      position: relative;
      border: none;
      border-radius: 1.5rem;
      padding: 1.2rem;
      background: #fff;
      box-shadow: 0 18px 35px rgba(15, 23, 42, 0.12);
      cursor: pointer;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      min-height: 160px;
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
    }

    .letter-card:focus-visible,
    .letter-card:hover {
      outline: none;
      transform: translateY(-4px);
      box-shadow: 0 22px 40px rgba(244, 114, 182, 0.25);
    }

    .letter-side,
    .picture-side {
      transition: transform 0.25s ease;
    }

    .picture-side {
      text-align: center;
      transform-origin: bottom;
      transform: translateY(1rem) scale(0.95);
      opacity: 0;
      transition: opacity 0.25s ease, transform 0.25s ease;
    }

    .letter-card.show-picture .picture-side {
      opacity: 1;
      transform: translateY(0) scale(1);
    }

    .letter-pair {
      display: flex;
      gap: 0.5rem;
      justify-content: center;
      align-items: baseline;
    }

    .letter-pair span {
      font-weight: 700;
    }

    .upper {
      font-size: 2.8rem;
      color: var(--pink);
    }

    .lower {
      font-size: 1.8rem;
      color: var(--orange);
    }

    .tap-hint {
      text-align: center;
      color: #94a3b8;
      font-size: 0.9rem;
    }

    .emoji {
      font-size: 2.5rem;
      display: block;
    }

    .picture-side p {
      margin: 0.2rem 0 0;
      font-weight: 600;
    }

    footer {
      text-align: center;
      padding: 2rem 1rem 3rem;
      color: #475569;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <div class="top-nav">
    <a href="../../index.html">‚Üê Back to the NiLy Adventure Hub</a>
  </div>
  <header>
    <h1>Alphabet Adventure</h1>
    <p>Tap the tiles to peek at a picture. Each card shows the uppercase and lowercase letter together with a friendly item that shares its sound.</p>
  </header>

  <main>
    <div class="controls">
      <button type="button" id="shuffleBtn">üîÑ Shuffle letters</button>
      <button type="button" id="resetBtn">Reset view</button>
    </div>
    <section class="card-grid" id="letterGrid"></section>
  </main>

  <footer>Built for curious little readers‚Äîno sound, just bright stories.</footer>

  <script>
    const letterData = [
      { upper: "A", lower: "a", word: "apple", emoji: "üçé" },
      { upper: "B", lower: "b", word: "balloon", emoji: "üéà" },
      { upper: "C", lower: "c", word: "cat", emoji: "üê±" },
      { upper: "D", lower: "d", word: "drum", emoji: "ü•Å" },
      { upper: "E", lower: "e", word: "elephant", emoji: "üêò" },
      { upper: "F", lower: "f", word: "flower", emoji: "üå∏" },
      { upper: "G", lower: "g", word: "guitar", emoji: "üé∏" },
      { upper: "H", lower: "h", word: "hat", emoji: "üé©" },
      { upper: "I", lower: "i", word: "igloo", emoji: "üè†" },
      { upper: "J", lower: "j", word: "jellyfish", emoji: "üéê" },
      { upper: "K", lower: "k", word: "kite", emoji: "ü™Å" },
      { upper: "L", lower: "l", word: "lion", emoji: "ü¶Å" },
      { upper: "M", lower: "m", word: "moon", emoji: "üåô" },
      { upper: "N", lower: "n", word: "nest", emoji: "ü™∫" },
      { upper: "O", lower: "o", word: "octopus", emoji: "üêô" },
      { upper: "P", lower: "p", word: "pancake", emoji: "ü•û" },
      { upper: "Q", lower: "q", word: "queen", emoji: "üëë" },
      { upper: "R", lower: "r", word: "rocket", emoji: "üöÄ" },
      { upper: "S", lower: "s", word: "sun", emoji: "‚òÄÔ∏è" },
      { upper: "T", lower: "t", word: "turtle", emoji: "üê¢" },
      { upper: "U", lower: "u", word: "umbrella", emoji: "‚òÇÔ∏è" },
      { upper: "V", lower: "v", word: "violin", emoji: "üéª" },
      { upper: "W", lower: "w", word: "whale", emoji: "üê≥" },
      { upper: "X", lower: "x", word: "xylophone", emoji: "üéº" },
      { upper: "Y", lower: "y", word: "yarn", emoji: "üß∂" },
      { upper: "Z", lower: "z", word: "zebra", emoji: "ü¶ì" }
    ];

    const grid = document.getElementById('letterGrid');
    const shuffleBtn = document.getElementById('shuffleBtn');
    const resetBtn = document.getElementById('resetBtn');

    function buildCards(data) {
      grid.innerHTML = '';
      data.forEach((entry) => {
        const card = document.createElement('button');
        card.className = 'letter-card';
        card.setAttribute('aria-pressed', 'false');

        const letters = document.createElement('div');
        letters.className = 'letter-side';
        letters.innerHTML = `
          <div class="letter-pair">
            <span class="upper">${entry.upper}</span>
            <span class="lower">${entry.lower}</span>
          </div>
        `;

        const picture = document.createElement('div');
        picture.className = 'picture-side';
        picture.innerHTML = `
          <span class="emoji">${entry.emoji}</span>
        `;

        card.appendChild(letters);
        card.appendChild(picture);

        card.addEventListener('click', () => {
          const showPicture = !card.classList.contains('show-picture');
          card.classList.toggle('show-picture');
          card.setAttribute('aria-pressed', showPicture ? 'true' : 'false');
        });

        grid.appendChild(card);
      });
    }

    function shuffleLetters() {
      const copy = [...letterData];
      for (let i = copy.length - 1; i > 0; i -= 1) {
        const j = Math.floor(Math.random() * (i + 1));
        [copy[i], copy[j]] = [copy[j], copy[i]];
      }
      buildCards(copy);
    }

    shuffleBtn.addEventListener('click', shuffleLetters);
    resetBtn.addEventListener('click', () => buildCards(letterData));

    buildCards(letterData);
  </script>

  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js').catch((err) => {
          console.error('Service worker registration failed:', err);
        });
      });
    }
  </script>
</body>
</html>
